webpackJsonp([5],{"BF+7":function(t,e){},OsHC:function(t,e){},Tlg0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Gu7T"),a=n.n(r),o=n("zjrN"),i=n("/DwW"),c={components:{NewTable:o.a},data:function(){return{a:[],b:[],c:[],d:[{name:"家宽净增",value:"0",tHead:[{title:"维度",key:"name",fixed:"left",width:90,align:"center"},{title:"家庭净增",key:"marketSegment",width:100,align:"center"},{title:"当月新增",key:"newIncremental",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.newIncremental?e.row.newIncremental.toFixed(3):e.row.newIncremental)}},{title:"当月流失",key:"currentMonthLeave",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.currentMonthLeave?e.row.currentMonthLeave.toFixed(3):e.row.currentMonthLeave)}},{title:"当月净增",key:"netGrowth",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.netGrowth?e.row.netGrowth.toFixed(3):e.row.netGrowth)}},{title:"环比上月%",key:"monthChainRelativeRatio",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.monthChainRelativeRatio?e.row.monthChainRelativeRatio.toFixed(3):e.row.monthChainRelativeRatio)}}]},{name:"社渠家宽新增",value:"1",tHead:[{title:"维度",key:"name",fixed:"left",width:90,align:"center"},{title:"社渠家宽新增",key:"trenchType",width:90,align:"center"},{title:"当月新增",key:"currentMonthNewIncremental",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.currentMonthNewIncremental?e.row.currentMonthNewIncremental.toFixed(3):e.row.currentMonthNewIncremental)}},{title:"环比上月%",key:"monthChainRelativeRatio",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.monthChainRelativeRatio?e.row.monthChainRelativeRatio.toFixed(3):e.row.monthChainRelativeRatio)}},{title:"完成率%",key:"percentageComplete",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.percentageComplete?e.row.percentageComplete.toFixed(3):e.row.percentageComplete)}},{title:"时间进度",key:"timeProgress",width:90,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.timeProgress?e.row.timeProgress.toFixed(3):e.row.timeProgress)}},{title:"预估得分",key:"forecastScore",width:60,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.forecastScore?e.row.forecastScore.toFixed(3):e.row.forecastScore)}}]},{name:"线下日均2480进度",value:"2",tHead:[{title:"维度",key:"name",fixed:"left",width:90,align:"center"},{title:"线下日均2480进度",key:"trenchType",width:115,align:"center"},{title:"当日完成量",key:"currentDayNewIncremental",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.currentDayNewIncremental?e.row.currentDayNewIncremental.toFixed(3):e.row.currentDayNewIncremental)}},{title:"当日完成率%",key:"percentageComplete",width:100,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.percentageComplete?e.row.percentageComplete.toFixed(3):e.row.percentageComplete)}},{title:"当月完成量",key:"currentMonthNewIncremental",width:90,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.currentMonthNewIncremental?e.row.currentMonthNewIncremental.toFixed(3):e.row.currentMonthNewIncremental)}},{title:"当月完成率%",key:"currentMonthPercentageComplete",width:100,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.currentMonthPercentageComplete?e.row.currentMonthPercentageComplete.toFixed(3):e.row.currentMonthPercentageComplete)}}]}],branch:"",gridding:"",managerAccount:"",type:"0",columns:[],tBody:[],selectBolA:!1,selectBolB:!1,updateText:""}},mounted:function(){var t=this;t._changeType(),Object(i.s)(function(e){t.a=e;var n=JSON.parse(localStorage.getItem("role")),r=n.role,a=n.branch,o=n.gridding;switch(r){case 1:t._getListFn();break;case 2:t.branch=a,t.selectBolA=!0,t._changeA(),t._getListFn();break;case 3:t.branch=a,t.gridding=o,t.selectBolA=!0,t.selectBolB=!0,t._changeA(),t._changeB(),t._getListFn()}})},methods:{_changeA:function(){var t=this;t.a.forEach(function(e){e.name===t.branch&&(t.b=e.griddings)}),1===JSON.parse(localStorage.getItem("role")).role&&(t.gridding="",t.managerAccount=""),t._getListFn()},_changeB:function(){var t=this;t.managerAccount="",t.b.forEach(function(e){e.name===t.gridding&&(t.c=e.managers)}),t._getListFn()},_changeType:function(){var t=this;t.columns=[],t.d.forEach(function(e){e.value===t.type&&(t.columns=e.tHead)}),t._getListFn()},_getListFn:function(){var t=this;Object(i.t)(t.type,{branch:t.branch,gridding:t.gridding,managerAccount:t.managerAccount},function(e){t.updateText=e.description;var n=[];e.data.forEach(function(t){n.indexOf(t.name)<0?n.push(t.name):t.name=""}),t.tBody=e.data})},_setListFn:function(t){switch(this.tBody=[],this.type){case"0":this.tBody=[].concat(a()(t.map(function(t){return{name:t.name,text:[t.name,t.marketSegment,t.newIncremental,t.currentMonthLeave,t.netGrowth,t.monthChainRelativeRatio]}})));break;case"1":this.tBody=[].concat(a()(t.map(function(t){return{name:t.name,text:[t.name,t.trenchType,t.monthChainRelativeRatio,t.percentageComplete,t.timeProgress,t.forecastScore]}})));break;case"2":this.tBody=[].concat(a()(t.map(function(t){return{name:t.name,text:[t.name,t.trenchType,t.currentDayNewIncremental,t.percentageComplete,t.currentMonthNewIncremental,t.currentMonthPercentageComplete]}})))}}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"improving-path-wrap common-width"},[n("div",{staticClass:"improving-search-wrap"},[n("div",{staticClass:"search-wrap"},[n("div",{staticClass:"search-items-wrap"},[n("div",{staticClass:"search-items"},[n("span",{staticClass:"items-title"},[t._v("分公司：")]),t._v(" "),n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.branch,expression:"branch"}],attrs:{disabled:t.selectBolA},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.branch=e.target.multiple?n:n[0]},t._changeA]}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.a,function(e,r){return n("option",{key:r,domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)])]),t._v(" "),n("div",{staticClass:"search-items"},[n("span",{staticClass:"items-title"},[t._v("网格：")]),t._v(" "),n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.gridding,expression:"gridding"}],attrs:{disabled:t.selectBolB},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.gridding=e.target.multiple?n:n[0]},t._changeB]}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.b,function(e,r){return n("option",{key:r,domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)])])]),t._v(" "),n("div",{staticClass:"search-items-wrap"},[n("div",{staticClass:"search-items"},[n("span",{staticClass:"items-title"},[t._v("一线经理：")]),t._v(" "),n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.managerAccount,expression:"managerAccount"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.managerAccount=e.target.multiple?n:n[0]},t._getListFn]}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.c,function(e,r){return n("option",{key:r,domProps:{value:e.account}},[t._v(t._s(e.name))])})],2)])]),t._v(" "),n("div",{staticClass:"search-items"},[n("span",{staticClass:"items-title"},[t._v("类型：")]),t._v(" "),n("div",{staticClass:"select-wrap"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?n:n[0]},t._changeType]}},t._l(t.d,function(e,r){return n("option",{key:r,domProps:{value:e.value}},[t._v(t._s(e.name))])}),0)])])])])]),t._v(" "),""!==t.updateText?n("div",{staticClass:"update-wrap",domProps:{textContent:t._s(t.updateText)}}):t._e(),t._v(" "),n("div",{staticClass:"content-list-view-wrap"},[n("div",{staticClass:"new-table-list-wrap"},[n("new-table",{attrs:{columns:t.columns,data:t.tBody}})],1)])])},staticRenderFns:[]};var l=n("VU/8")(c,s,!1,function(t){n("sj+G")},"data-v-518186a4",null).exports,d={components:{NewTable:o.a},data:function(){var t=this;return{tBody:[],columns:[{title:"分公司",key:"name",fixed:"",width:75,align:"center",render:function(e,n){return n.row.isFooter?e("div",{attrs:{class:"table-total"}},n.row.name):e("div",{attrs:{class:"can-click"},on:{click:function(){t._trClick(n.row)}}},n.row.name)}},{title:"目标值",key:"goal",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.goal?e.row.goal.toFixed(3):e.row.goal)}},{title:"新增",key:"newIncremental",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.newIncremental?e.row.newIncremental.toFixed(3):e.row.newIncremental)}},{title:"流失",key:"currentMonthLeave",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.currentMonthLeave?e.row.currentMonthLeave.toFixed(3):e.row.currentMonthLeave)}},{title:"净增",key:"netGrowth",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.netGrowth?e.row.netGrowth.toFixed(3):e.row.netGrowth)}},{title:"环比%",key:"monthChainRelativeRatio",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.monthChainRelativeRatio?e.row.monthChainRelativeRatio.toFixed(3):e.row.monthChainRelativeRatio)}},{title:"完成率%",key:"percentageComplete",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.percentageComplete)}},{title:"时间进度",key:"timeProgress",width:90,align:"center",renderHeader:function(e,n){return e("div",{attrs:{class:t.tBody.length?"can-click":""},on:{click:function(){t.tBody.length&&t._headClick()}}},n.column.title)},render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{attrs:{class:"lamp lamp-"+e.row.timeProgressType}},e.row.timeProgress)}},{title:"预估得分",key:"forecastScore",width:60,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.forecastScore)}}],updateText:""}},mounted:function(){var t=this;Object(i.p)(function(e){t.updateText=e.description,t.tBody=[].concat(a()(e.data),[{isFooter:!0,name:"合计",goal:e.statistics.goal,newIncremental:e.statistics.newIncremental,currentMonthLeave:e.statistics.currentMonthLeave,netGrowth:e.statistics.netGrowth,monthChainRelativeRatio:e.statistics.monthChainRelativeRatio,percentageComplete:e.statistics.percentageComplete,timeProgress:e.statistics.timeProgress,forecastScore:"-"}]),t.columns[0].fixed="left"})},methods:{_headClick:function(){var t=this.$route.path;this.$router.push(t+"/time")},_trClick:function(t){var e=this.$route.path;this.$router.push(e+"/street/"+t.name)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-wrap common-width"},[""!==t.updateText?n("div",{staticClass:"update-wrap",domProps:{textContent:t._s(t.updateText)}}):t._e(),t._v(" "),n("div",{staticClass:"content-wrap"},[n("div",{staticClass:"new-table-list-wrap"},[n("new-table",{attrs:{columns:t.columns,data:t.tBody}})],1)]),t._v(" "),n("transition",{attrs:{name:"slide"}},[n("router-view")],1)],1)},staticRenderFns:[]};var m={components:{ImprovingPath:l,IndicatorPlan:n("VU/8")(d,u,!1,function(t){n("BF+7")},"data-v-0959cad0",null).exports},data:function(){return{topBarBool:!0}},computed:{},mounted:function(){localStorage.getItem("leaveTab")&&(this.topBarBool="0"===localStorage.getItem("leaveTab"));var t=JSON.parse(localStorage.getItem("role")),e=t.role,n=t.branch,r=t.gridding;switch(e){case 1:break;case 2:this.$router.replace("/menu/business/home/street/"+n);break;case 3:this.$router.replace("/menu/business/home/street/"+n+"/person/"+r)}},methods:{_changeTab:function(t){this.topBarBool=t,localStorage.setItem("leaveTab",t?0:1)}},destroyed:function(){localStorage.removeItem("leaveTab")}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"business-home-wrap common-width"},[n("div",{staticClass:"top-bar-wrap"},[n("span",{class:{active:t.topBarBool},on:{click:function(e){return t._changeTab(!0)}}},[t._v("指标进度")]),t._v(" "),n("span",{class:{active:!t.topBarBool},on:{click:function(e){return t._changeTab(!1)}}},[t._v("提升路径")])]),t._v(" "),n("div",{staticClass:"list-view-wrap"},[t.topBarBool?n("indicator-plan"):n("improving-path")],1)])},staticRenderFns:[]};var w=n("VU/8")(m,h,!1,function(t){n("OsHC")},"data-v-5471a59a",null);e.default=w.exports},"sj+G":function(t,e){}});