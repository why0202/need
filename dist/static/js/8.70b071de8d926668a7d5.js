webpackJsonp([8],{"+Swg":function(t,e){},AH8x:function(t,e){},r4ub:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"improving-path-wrap common-width"},[e("transition",{attrs:{name:"slide"}},[e("router-view")],1)],1)},staticRenderFns:[]},n=a("VU/8")(null,o,!1,null,null,null).exports,r=a("Gu7T"),i=a.n(r),s=a("zjrN"),l=a("/DwW"),c={components:{NewTable:s.a},data:function(){var t=this;return{tBody:[],columns:[{title:"分公司",key:"name",fixed:"",width:90,align:"center",render:function(e,a){return a.row.isFooter?e("div",{attrs:{class:"table-total"}},a.row.name):e("div",{attrs:{class:"can-click"},on:{click:function(){t._trClick(a.row)}}},a.row.name)}},{title:"目标值",key:"goal",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.goal?e.row.goal.toFixed(3):e.row.goal)}},{title:"完成值",key:"complete",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.complete?e.row.complete.toFixed(3):e.row.complete)}},{title:"完成率%",key:"percentageComplete",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.percentageComplete?e.row.percentageComplete.toFixed(3):e.row.percentageComplete)}},{title:"时间进度%",key:"timeProgress",width:90,align:"center",renderHeader:function(e,a){return e("div",{attrs:{class:t.tBody.length?"can-click":""},on:{click:function(){t.tBody.length&&t._headClick()}}},a.column.title)},render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.timeProgress?e.row.timeProgress.toFixed(3):e.row.timeProgress)}},{title:"月环比%",key:"monthChainRelativeRatio",width:80,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{},e.row.monthChainRelativeRatio?e.row.monthChainRelativeRatio.toFixed(3):e.row.monthChainRelativeRatio)}},{title:"排名",key:"ranking",width:60,align:"center",render:function(t,e){return t("div",e.row.isFooter?{attrs:{class:"table-total"}}:{attrs:{class:"lamp lamp-"+e.row.timeProgressType}},e.row.ranking)}}],updateText:""}},mounted:function(){var t=this;Object(l.a)(function(e){t.updateText=e.description,t.tBody=[].concat(i()(e.data),[{isFooter:!0,name:"合计",goal:e.statistics.goal,complete:e.statistics.complete,percentageComplete:e.statistics.percentageComplete,timeProgress:e.statistics.timeProgress,monthChainRelativeRatio:e.statistics.monthChainRelativeRatio,ranking:"-"}]),t.columns[0].fixed="left"});var e=JSON.parse(localStorage.getItem("role")),a=e.role,o=e.branch,n=e.gridding;switch(a){case 1:break;case 2:t.$router.replace("/menu/business/add/street/"+o);break;case 3:t.$router.replace("/menu/business/add/street/"+o+"/person/"+n)}},methods:{_headClick:function(){var t=this.$route.path;this.$router.push(t+"/time")},_trClick:function(t){var e=this.$route.path;this.$router.push(e+"/street/"+t.name)}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indicator-plan-wrap common-width"},[""!==t.updateText?a("div",{staticClass:"update-wrap",domProps:{textContent:t._s(t.updateText)}}):t._e(),t._v(" "),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"new-table-list-wrap"},[a("new-table",{attrs:{columns:t.columns,data:t.tBody}})],1)]),t._v(" "),a("transition",{attrs:{name:"slide"}},[a("router-view")],1)],1)},staticRenderFns:[]};var d={components:{ImprovingPath:n,IndicatorPlan:a("VU/8")(c,u,!1,function(t){a("+Swg")},"data-v-34daf2af",null).exports},data:function(){return{topBarBool:!0,tabSelect:"1",selectName:"渠道参与",selectList:[{name:"渠道参与",value:"1",toPage:"participation"},{name:"渠道产能",value:"2",toPage:"capacity"},{name:"新增质量",value:"3",toPage:"quality"}]}},mounted:function(){var t=this,e=this.$route.path;this.selectList.forEach(function(a){e.indexOf(a.toPage)>-1&&(t.topBarBool=!1,t.tabSelect=a.value)})},methods:{_changePage:function(t){var e=this,a=t.target.value;this.selectList.forEach(function(t){t.value===a&&e.$router.push("/menu/business/add/"+t.toPage)})}},watch:{tabSelect:function(t){var e=this;this.selectList.forEach(function(a){a.value===t&&(e.selectName=a.name)})},topBarBool:function(t){var e=this;t?this.$router.push("/menu/business/add"):this.selectList.forEach(function(t){t.value===e.tabSelect&&(e.$route.path!=="/menu/business/add/"+t.toPage&&e.$router.push("/menu/business/add/"+t.toPage))})},$route:function(t){"/menu/business/add"===t.path&&(this.topBarBool=!0)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"business-add-wrap common-width"},[a("div",{staticClass:"top-bar-wrap"},[a("span",{class:{active:t.topBarBool},on:{click:function(e){t.topBarBool=!0}}},[t._v("指标进度")]),t._v(" "),a("span",{class:{active:!t.topBarBool},on:{click:function(e){t.topBarBool=!1}}},[a("b",[t._v("提升路径：")]),t._v(" "),t.topBarBool?a("i",[t._v(t._s(t.selectName))]):a("select",{directives:[{name:"model",rawName:"v-model",value:t.tabSelect,expression:"tabSelect"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.tabSelect=e.target.multiple?a:a[0]},t._changePage]}},t._l(t.selectList,function(e,o){return a("option",{key:o,domProps:{value:e.value}},[t._v(t._s(e.name))])}),0)])]),t._v(" "),a("div",{staticClass:"list-view-wrap"},[t.topBarBool?a("indicator-plan"):a("improving-path")],1)])},staticRenderFns:[]};var m=a("VU/8")(d,p,!1,function(t){a("AH8x")},"data-v-1e2acf07",null);e.default=m.exports}});